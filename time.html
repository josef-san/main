<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Sjednocen√© Google Widgety - Bez koƒçky</title>
    <style>
        :root {
            /* Modr√© barvy nebe */
            --day-bg: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);
            --night-bg: linear-gradient(180deg, #1e3c72 0%, #2a5298 100%);
            --google-gray: #5f6368;
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden;
        }

        /* Kontejner pro oba widgety vedle sebe */
        .main-container {
            display: flex;
            gap: 80px;
            align-items: flex-start;
        }

        /* --- SPOLEƒåN√â STYLY --- */
        .widget-circle {
            background: white;
            border-radius: 50%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 8px solid white;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .sky {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.5s ease-in-out;
            overflow: hidden;
        }

        .celestial {
            position: absolute;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.8s;
            z-index: 1;
        }

        .time-area {
            width: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--google-gray);
            transition: all 0.4s ease-in-out;
        }

        .display-time {
            font-size: 44px;
            font-weight: 300;
            margin: 0;
        }

        .controls {
            margin-top: 20px;
            text-align: center;
            width: 280px;
            transition: opacity 0.4s;
        }

        input[type=range] { width: 100%; accent-color: #4285f4; cursor: pointer; }
        button { margin-top: 10px; padding: 6px 16px; border-radius: 20px; border: 1px solid #dadce0; background: white; cursor: pointer; }

        /* --- 1. STATICK√Å VERZE (Vlevo) --- */
        .static-section { display: flex; flex-direction: column; align-items: center; }
        .static-section .widget-circle { width: 280px; height: 280px; }
        .static-section .sky { height: 50%; }
        .static-section .celestial { font-size: 50px; }
        .static-section .time-area { height: 50%; }

        /* --- 2. ROZKL√ÅDAC√ç VERZE (Vpravo) --- */
        .expand-section { display: flex; flex-direction: column; align-items: center; min-width: 300px; }
        .expand-section .widget-circle { width: 80px; height: 80px; cursor: pointer; }
        .expand-section:hover .widget-circle { width: 280px; height: 280px; }
        .expand-section .sky { height: 100%; }
        .expand-section:hover .sky { height: 50%; }
        .expand-section .celestial { font-size: 35px; }
        .expand-section:hover .celestial { font-size: 50px; }
        .expand-section .time-area { height: 0%; opacity: 0; }
        .expand-section:hover .time-area { height: 50%; opacity: 1; }
        .expand-section .controls { opacity: 0; pointer-events: none; }
        .expand-section:hover .controls { opacity: 1; pointer-events: auto; }

        /* --- STAVY DEN/NOC --- */
        .is-day .sky { background: var(--day-bg); }
        .is-day .sun { opacity: 1; transform: translateY(0); color: #fbc02d; }
        .is-day .moon { opacity: 0; transform: translateY(80px); }
        .is-day .star { opacity: 0; }

        .is-night .sky { background: var(--night-bg); }
        .is-night .sun { opacity: 0; transform: translateY(-80px); }
        .is-night .moon { opacity: 1; transform: translateY(0); color: #f5f5f5; }
        .is-night .star { opacity: 0.8; }
    </style>
</head>
<body>

    <div class="main-container">
        <div class="static-section">
            <div id="widget1" class="widget-circle is-day">
                <div class="sky" id="sky1">
                    <span class="celestial sun">‚òÄÔ∏è</span>
                    <span class="celestial moon">üåô</span>
                </div>
                <div class="time-area">
                    <p class="display-time" id="time1">12:00</p>
                </div>
            </div>
            <div class="controls">
                <input type="range" id="slider1" min="0" max="1439" value="720">
                <button onclick="resetClock(1)">Re√°ln√Ω ƒças</button>
            </div>
        </div>

        <div class="expand-section">
            <div id="widget2" class="widget-circle is-day">
                <div class="sky" id="sky2">
                    <span class="celestial sun">‚òÄÔ∏è</span>
                    <span class="celestial moon">üåô</span>
                </div>
                <div class="time-area">
                    <p class="display-time" id="time2">12:00</p>
                </div>
            </div>
            <div class="controls">
                <input type="range" id="slider2" min="0" max="1439" value="720">
                <button onclick="resetClock(2)">Re√°ln√Ω ƒças</button>
            </div>
        </div>
    </div>

    <script>
        let autoModes = { 1: false, 2: false };

        // Funkce pro generov√°n√≠ hvƒõzd do obou widget≈Ø
        function createStars(skyId) {
            const sky = document.getElementById(skyId);
            for (let i = 0; i < 15; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 3 + 1;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.top = Math.random() * 80 + '%';
                star.style.left = Math.random() * 90 + '%';
                sky.appendChild(star);
            }
        }

        function updateWidget(id, val) {
            const h = Math.floor(val / 60);
            const m = val % 60;
            document.getElementById(`time${id}`).innerText = 
                `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}`;
            
            const w = document.getElementById(`widget${id}`);
            if (h >= 6 && h < 18) {
                w.classList.add('is-day'); w.classList.remove('is-night');
            } else {
                w.classList.add('is-night'); w.classList.remove('is-day');
            }
        }

        [1, 2].forEach(id => {
            createStars(`sky${id}`);
            const slider = document.getElementById(`slider${id}`);
            slider.addEventListener('input', (e) => {
                autoModes[id] = false;
                updateWidget(id, e.target.value);
            });
        });

        function resetClock(id) {
            autoModes[id] = true;
            runAuto(id);
        }

        function runAuto(id) {
            if (!autoModes[id]) return;
            const now = new Date();
            const total = now.getHours() * 60 + now.getMinutes();
            document.getElementById(`slider${id}`).value = total;
            updateWidget(id, total);
            setTimeout(() => runAuto(id), 1000);
        }

        updateWidget(1, 720);
        updateWidget(2, 720);
    </script>
</body>
</html>
